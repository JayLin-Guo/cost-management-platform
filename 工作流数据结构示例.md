# å·¥ä½œæµæ•°æ®ç»“æ„ç¤ºä¾‹

## ğŸ“‹ åœºæ™¯è¯´æ˜

æœ¬æ–‡æ¡£æä¾›ä¸‰ç§å…¸å‹å·¥ä½œæµåœºæ™¯çš„å®Œæ•´æ•°æ®ç»“æ„ç¤ºä¾‹ï¼š
1. **å½“å¤©é©³å›åœºæ™¯**ï¼šåŒä¸€å¤©å†…æäº¤â†’é©³å›â†’é‡æ–°æäº¤â†’é€šè¿‡
2. **æ¬¡æ—¥é©³å›åœºæ™¯**ï¼šç¬¬ä¸€å¤©æäº¤â†’ç¬¬äºŒå¤©é©³å›â†’ç¬¬ä¸‰å¤©é‡æ–°æäº¤â†’é€šè¿‡
3. **è·¨æœˆå®¡æ ¸é€šè¿‡åœºæ™¯**ï¼šæœˆæœ«æäº¤â†’è·¨æœˆå®¡æ ¸â†’ä¸‹æœˆé€šè¿‡

## ğŸ¯ åœºæ™¯ä¸€ï¼šå½“å¤©é©³å›åœºæ™¯

### ä¸šåŠ¡æµç¨‹æè¿°
- 2024-01-15 09:00ï¼šç”¨æˆ·æäº¤æ–‡ä»¶
- 2024-01-15 10:30ï¼šå®¡æ ¸å‘˜Aé©³å›
- 2024-01-15 14:00ï¼šç”¨æˆ·é‡æ–°æäº¤
- 2024-01-15 16:00ï¼šå®¡æ ¸å‘˜Aå®¡æ ¸é€šè¿‡

### æ—¶é—´ç‚¹æ•°æ®ç»“æ„
```typescript
const timePoints: TimePoint[] = [
  {
    id: "tp_20240115",
    date: "2024-01-15",
    label: "2024å¹´1æœˆ15æ—¥",
    isInterval: false,
    displayWidth: 300,
    hasNodes: true,
    nodeCount: 4,
    isEndPoint: true
  }
]
```

### å·¥ä½œæµèŠ‚ç‚¹æ•°æ®ç»“æ„
```typescript
const workflowNodes: WorkflowNode[] = [
  // èŠ‚ç‚¹1ï¼šç”¨æˆ·é¦–æ¬¡æäº¤
  {
    id: "node_submit_001",
    reviewerId: "user_001",
    timePointId: "tp_20240115",
    fileId: "file_001",
    title: "ç”¨æˆ·æäº¤",
    status: "completed",
    stateInfo: "å·²æäº¤",
    connections: [
      {
        id: "conn_001_002",
        fromNodeId: "node_submit_001",
        toNodeId: "node_reject_001",
        type: "forward",
        label: "æäº¤å®¡æ ¸",
        actionSequence: 1,
        actionTime: "09:00",
        status: "completed"
      }
    ],
    rightAction: [
      { label: "æŸ¥çœ‹è¯¦æƒ…", action: "view" }
    ],
    nodeType: "start",
    timeSequence: 1,
    positionInDay: 1,
    timeDetail: "09:00",
    isModified: true,
    lastModifiedTime: "2024-01-15T09:00:00Z",
    modificationCount: 1,
    hasBeenVisited: false,
    currentVisualState: "default"
  },
  
  // èŠ‚ç‚¹2ï¼šå®¡æ ¸å‘˜é©³å›
  {
    id: "node_reject_001",
    reviewerId: "reviewer_A",
    timePointId: "tp_20240115",
    fileId: "file_001",
    title: "å®¡æ ¸å‘˜Aé©³å›",
    status: "rejected",
    stateInfo: "é©³å›ï¼šæ ¼å¼ä¸ç¬¦åˆè¦æ±‚",
    connections: [
      {
        id: "conn_002_003",
        fromNodeId: "node_reject_001",
        toNodeId: "node_resubmit_001",
        type: "reject",
        label: "é©³å›å¤„ç†",
        actionSequence: 2,
        actionTime: "10:30",
        status: "completed"
      }
    ],
    rightAction: [
      { label: "æŸ¥çœ‹é©³å›åŸå› ", action: "view_reason" },
      { label: "é‡æ–°å®¡æ ¸", action: "re_review" }
    ],
    nodeType: "normal",
    canContinueAfterReject: true,
    timeSequence: 2,
    positionInDay: 2,
    timeDetail: "10:30",
    isModified: true,
    lastModifiedTime: "2024-01-15T10:30:00Z",
    modificationCount: 1,
    hasBeenVisited: false,
    currentVisualState: "default"
  },
  
  // èŠ‚ç‚¹3ï¼šç”¨æˆ·é‡æ–°æäº¤
  {
    id: "node_resubmit_001",
    reviewerId: "user_001",
    timePointId: "tp_20240115",
    fileId: "file_001",
    title: "ç”¨æˆ·é‡æ–°æäº¤",
    status: "completed",
    stateInfo: "å·²é‡æ–°æäº¤",
    connections: [
      {
        id: "conn_003_004",
        fromNodeId: "node_resubmit_001",
        toNodeId: "node_approve_001",
        type: "reprocess",
        label: "é‡æ–°å®¡æ ¸",
        actionSequence: 3,
        actionTime: "14:00",
        status: "completed"
      }
    ],
    rightAction: [
      { label: "æŸ¥çœ‹ä¿®æ”¹å†…å®¹", action: "view_changes" }
    ],
    nodeType: "normal",
    timeSequence: 3,
    positionInDay: 3,
    timeDetail: "14:00",
    isModified: true,
    lastModifiedTime: "2024-01-15T14:00:00Z",
    modificationCount: 2,
    hasBeenVisited: false,
    currentVisualState: "default"
  },
  
  // èŠ‚ç‚¹4ï¼šå®¡æ ¸é€šè¿‡
  {
    id: "node_approve_001",
    reviewerId: "reviewer_A",
    timePointId: "tp_20240115",
    fileId: "file_001",
    title: "å®¡æ ¸å‘˜Aé€šè¿‡",
    status: "approved",
    stateInfo: "å®¡æ ¸é€šè¿‡",
    connections: [],
    rightAction: [
      { label: "æŸ¥çœ‹å®¡æ ¸ç»“æœ", action: "view_result" }
    ],
    nodeType: "end",
    isWorkflowEnd: true,
    endType: "success",
    finalResult: "å®¡æ ¸é€šè¿‡",
    timeSequence: 4,
    positionInDay: 4,
    timeDetail: "16:00",
    isModified: true,
    lastModifiedTime: "2024-01-15T16:00:00Z",
    modificationCount: 1,
    hasBeenVisited: false,
    currentVisualState: "default"
  }
]
```

## ğŸ¯ åœºæ™¯äºŒï¼šæ¬¡æ—¥é©³å›åœºæ™¯

### ä¸šåŠ¡æµç¨‹æè¿°
- 2024-01-15ï¼šç”¨æˆ·æäº¤æ–‡ä»¶
- 2024-01-16ï¼šå®¡æ ¸å‘˜Bé©³å›
- 2024-01-17ï¼šç”¨æˆ·é‡æ–°æäº¤å¹¶é€šè¿‡

### æ—¶é—´ç‚¹æ•°æ®ç»“æ„
```typescript
const timePoints: TimePoint[] = [
  {
    id: "tp_20240115",
    date: "2024-01-15",
    label: "1æœˆ15æ—¥",
    isInterval: false,
    displayWidth: 150,
    hasNodes: true,
    nodeCount: 1,
    isEndPoint: false
  },
  {
    id: "tp_20240116",
    date: "2024-01-16",
    label: "1æœˆ16æ—¥",
    isInterval: false,
    displayWidth: 150,
    hasNodes: true,
    nodeCount: 1,
    isEndPoint: false
  },
  {
    id: "tp_20240117",
    date: "2024-01-17",
    label: "1æœˆ17æ—¥",
    isInterval: false,
    displayWidth: 200,
    hasNodes: true,
    nodeCount: 2,
    isEndPoint: true
  }
]
```

### å·¥ä½œæµèŠ‚ç‚¹æ•°æ®ç»“æ„
```typescript
const workflowNodes: WorkflowNode[] = [
  // èŠ‚ç‚¹1ï¼šç”¨æˆ·æäº¤ï¼ˆ1æœˆ15æ—¥ï¼‰
  {
    id: "node_submit_002",
    reviewerId: "user_002",
    timePointId: "tp_20240115",
    fileId: "file_002",
    title: "ç”¨æˆ·æäº¤",
    status: "completed",
    stateInfo: "å·²æäº¤",
    connections: [
      {
        id: "conn_005_006",
        fromNodeId: "node_submit_002",
        toNodeId: "node_reject_002",
        type: "forward",
        label: "è·¨æ—¥å®¡æ ¸",
        actionSequence: 1,
        actionTime: "17:30",
        status: "completed"
      }
    ],
    rightAction: [
      { label: "æŸ¥çœ‹è¯¦æƒ…", action: "view" }
    ],
    nodeType: "start",
    timeSequence: 1,
    positionInDay: 1,
    timeDetail: "17:30",
    isModified: true,
    lastModifiedTime: "2024-01-15T17:30:00Z",
    modificationCount: 1,
    hasBeenVisited: false,
    currentVisualState: "default"
  },
  
  // èŠ‚ç‚¹2ï¼šå®¡æ ¸å‘˜é©³å›ï¼ˆ1æœˆ16æ—¥ï¼‰
  {
    id: "node_reject_002",
    reviewerId: "reviewer_B",
    timePointId: "tp_20240116",
    fileId: "file_002",
    title: "å®¡æ ¸å‘˜Bé©³å›",
    status: "rejected",
    stateInfo: "é©³å›ï¼šå†…å®¹éœ€è¦è¡¥å……",
    connections: [
      {
        id: "conn_006_007",
        fromNodeId: "node_reject_002",
        toNodeId: "node_resubmit_002",
        type: "reject",
        label: "è·¨æ—¥é©³å›",
        actionSequence: 1,
        actionTime: "10:00",
        status: "completed"
      }
    ],
    rightAction: [
      { label: "æŸ¥çœ‹é©³å›åŸå› ", action: "view_reason" }
    ],
    nodeType: "normal",
    canContinueAfterReject: true,
    timeSequence: 1,
    positionInDay: 1,
    timeDetail: "10:00",
    isModified: true,
    lastModifiedTime: "2024-01-16T10:00:00Z",
    modificationCount: 1,
    hasBeenVisited: false,
    currentVisualState: "default"
  },
  
  // èŠ‚ç‚¹3ï¼šç”¨æˆ·é‡æ–°æäº¤ï¼ˆ1æœˆ17æ—¥ï¼‰
  {
    id: "node_resubmit_002",
    reviewerId: "user_002",
    timePointId: "tp_20240117",
    fileId: "file_002",
    title: "ç”¨æˆ·é‡æ–°æäº¤",
    status: "completed",
    stateInfo: "å·²é‡æ–°æäº¤",
    connections: [
      {
        id: "conn_007_008",
        fromNodeId: "node_resubmit_002",
        toNodeId: "node_approve_002",
        type: "reprocess",
        label: "åŒæ—¥å®¡æ ¸",
        actionSequence: 1,
        actionTime: "09:00",
        status: "completed"
      }
    ],
    rightAction: [
      { label: "æŸ¥çœ‹ä¿®æ”¹å†…å®¹", action: "view_changes" }
    ],
    nodeType: "normal",
    timeSequence: 1,
    positionInDay: 1,
    timeDetail: "09:00",
    isModified: true,
    lastModifiedTime: "2024-01-17T09:00:00Z",
    modificationCount: 2,
    hasBeenVisited: false,
    currentVisualState: "default"
  },
  
  // èŠ‚ç‚¹4ï¼šå®¡æ ¸é€šè¿‡ï¼ˆ1æœˆ17æ—¥ï¼‰
  {
    id: "node_approve_002",
    reviewerId: "reviewer_B",
    timePointId: "tp_20240117",
    fileId: "file_002",
    title: "å®¡æ ¸å‘˜Bé€šè¿‡",
    status: "approved",
    stateInfo: "å®¡æ ¸é€šè¿‡",
    connections: [],
    rightAction: [
      { label: "æŸ¥çœ‹å®¡æ ¸ç»“æœ", action: "view_result" }
    ],
    nodeType: "end",
    isWorkflowEnd: true,
    endType: "success",
    finalResult: "å®¡æ ¸é€šè¿‡",
    timeSequence: 2,
    positionInDay: 2,
    timeDetail: "15:30",
    isModified: true,
    lastModifiedTime: "2024-01-17T15:30:00Z",
    modificationCount: 1,
    hasBeenVisited: false,
    currentVisualState: "default"
  }
]
```

## ğŸ¯ åœºæ™¯ä¸‰ï¼šè·¨æœˆå®¡æ ¸é€šè¿‡åœºæ™¯

### ä¸šåŠ¡æµç¨‹æè¿°
- 2024-01-31ï¼šç”¨æˆ·æäº¤æ–‡ä»¶
- 2024-02-01ï¼šä¸€çº§å®¡æ ¸å‘˜åˆå®¡é€šè¿‡
- 2024-02-05ï¼šäºŒçº§å®¡æ ¸å‘˜ç»ˆå®¡é€šè¿‡

### æ—¶é—´ç‚¹æ•°æ®ç»“æ„
```typescript
const timePoints: TimePoint[] = [
  {
    id: "tp_20240131",
    date: "2024-01-31",
    label: "1æœˆ31æ—¥",
    isInterval: false,
    displayWidth: 150,
    hasNodes: true,
    nodeCount: 1,
    isEndPoint: false
  },
  {
    id: "tp_20240201",
    date: "2024-02-01",
    label: "2æœˆ1æ—¥",
    isInterval: false,
    displayWidth: 150,
    hasNodes: true,
    nodeCount: 1,
    isEndPoint: false
  },
  {
    id: "interval_0201_0205",
    date: "2024-02-02",
    label: "æ˜¥èŠ‚å‡æœŸ",
    isInterval: true,
    spanDays: 3,
    displayWidth: 120,
    hasNodes: false,
    nodeCount: 0,
    isEndPoint: false
  },
  {
    id: "tp_20240205",
    date: "2024-02-05",
    label: "2æœˆ5æ—¥",
    isInterval: false,
    displayWidth: 150,
    hasNodes: true,
    nodeCount: 1,
    isEndPoint: true
  }
]
```

### å·¥ä½œæµèŠ‚ç‚¹æ•°æ®ç»“æ„
```typescript
const workflowNodes: WorkflowNode[] = [
  // èŠ‚ç‚¹1ï¼šç”¨æˆ·æäº¤ï¼ˆ1æœˆ31æ—¥ï¼‰
  {
    id: "node_submit_003",
    reviewerId: "user_003",
    timePointId: "tp_20240131",
    fileId: "file_003",
    title: "ç”¨æˆ·æäº¤",
    status: "completed",
    stateInfo: "å·²æäº¤",
    connections: [
      {
        id: "conn_009_010",
        fromNodeId: "node_submit_003",
        toNodeId: "node_first_review",
        type: "forward",
        label: "è·¨æœˆåˆå®¡",
        actionSequence: 1,
        actionTime: "16:00",
        status: "completed"
      }
    ],
    rightAction: [
      { label: "æŸ¥çœ‹è¯¦æƒ…", action: "view" }
    ],
    nodeType: "start",
    timeSequence: 1,
    positionInDay: 1,
    timeDetail: "16:00",
    isModified: true,
    lastModifiedTime: "2024-01-31T16:00:00Z",
    modificationCount: 1,
    hasBeenVisited: false,
    currentVisualState: "default"
  },
  
  // èŠ‚ç‚¹2ï¼šä¸€çº§å®¡æ ¸é€šè¿‡ï¼ˆ2æœˆ1æ—¥ï¼‰
  {
    id: "node_first_review",
    reviewerId: "reviewer_C",
    timePointId: "tp_20240201",
    fileId: "file_003",
    title: "ä¸€çº§å®¡æ ¸å‘˜åˆå®¡",
    status: "approved",
    stateInfo: "åˆå®¡é€šè¿‡",
    connections: [
      {
        id: "conn_010_011",
        fromNodeId: "node_first_review",
        toNodeId: "node_final_review",
        type: "forward",
        label: "æäº¤ç»ˆå®¡",
        actionSequence: 1,
        actionTime: "09:30",
        status: "completed"
      }
    ],
    rightAction: [
      { label: "æŸ¥çœ‹åˆå®¡æ„è§", action: "view_opinion" }
    ],
    nodeType: "milestone",
    timeSequence: 1,
    positionInDay: 1,
    timeDetail: "09:30",
    isModified: true,
    lastModifiedTime: "2024-02-01T09:30:00Z",
    modificationCount: 1,
    hasBeenVisited: false,
    currentVisualState: "default"
  },
  
  // èŠ‚ç‚¹3ï¼šäºŒçº§å®¡æ ¸é€šè¿‡ï¼ˆ2æœˆ5æ—¥ï¼‰
  {
    id: "node_final_review",
    reviewerId: "reviewer_D",
    timePointId: "tp_20240205",
    fileId: "file_003",
    title: "äºŒçº§å®¡æ ¸å‘˜ç»ˆå®¡",
    status: "approved",
    stateInfo: "ç»ˆå®¡é€šè¿‡",
    connections: [],
    rightAction: [
      { label: "æŸ¥çœ‹ç»ˆå®¡ç»“æœ", action: "view_final_result" },
      { label: "ä¸‹è½½å®¡æ ¸æŠ¥å‘Š", action: "download_report" }
    ],
    nodeType: "end",
    isWorkflowEnd: true,
    endType: "success",
    finalResult: "ç»ˆå®¡é€šè¿‡",
    timeSequence: 1,
    positionInDay: 1,
    timeDetail: "14:20",
    isModified: true,
    lastModifiedTime: "2024-02-05T14:20:00Z",
    modificationCount: 1,
    hasBeenVisited: false,
    currentVisualState: "default"
  }
]
```

## ğŸ® åŠ¨ç”»è·¯å¾„é…ç½®

### åœºæ™¯ä¸€åŠ¨ç”»è·¯å¾„
```typescript
const animationPath_Scene1: string[] = [
  "node_submit_001",      // ç”¨æˆ·æäº¤
  "node_reject_001",      // å®¡æ ¸é©³å›
  "node_resubmit_001",    // é‡æ–°æäº¤
  "node_approve_001"      // å®¡æ ¸é€šè¿‡
]
```

### åœºæ™¯äºŒåŠ¨ç”»è·¯å¾„
```typescript
const animationPath_Scene2: string[] = [
  "node_submit_002",      // ç”¨æˆ·æäº¤ï¼ˆ1æœˆ15æ—¥ï¼‰
  "node_reject_002",      // å®¡æ ¸é©³å›ï¼ˆ1æœˆ16æ—¥ï¼‰
  "node_resubmit_002",    // é‡æ–°æäº¤ï¼ˆ1æœˆ17æ—¥ï¼‰
  "node_approve_002"      // å®¡æ ¸é€šè¿‡ï¼ˆ1æœˆ17æ—¥ï¼‰
]
```

### åœºæ™¯ä¸‰åŠ¨ç”»è·¯å¾„
```typescript
const animationPath_Scene3: string[] = [
  "node_submit_003",      // ç”¨æˆ·æäº¤ï¼ˆ1æœˆ31æ—¥ï¼‰
  "node_first_review",    // åˆå®¡é€šè¿‡ï¼ˆ2æœˆ1æ—¥ï¼‰
  "node_final_review"     // ç»ˆå®¡é€šè¿‡ï¼ˆ2æœˆ5æ—¥ï¼‰
]
```

## ğŸ“Š æ•°æ®ç»“æ„ç‰¹ç‚¹åˆ†æ

### ğŸ”‘ å…³é”®å­—æ®µä½¿ç”¨è¯´æ˜

#### isModifiedå­—æ®µ
- **åœºæ™¯ä¸€**ï¼šæ‰€æœ‰èŠ‚ç‚¹éƒ½ä¸º`true`ï¼Œå› ä¸ºéƒ½æœ‰å®é™…æ“ä½œ
- **åœºæ™¯äºŒ**ï¼šæ‰€æœ‰èŠ‚ç‚¹éƒ½ä¸º`true`ï¼Œè·¨æ—¥æ“ä½œä»ç„¶æ˜¯ä¿®æ”¹
- **åœºæ™¯ä¸‰**ï¼šæ‰€æœ‰èŠ‚ç‚¹éƒ½ä¸º`true`ï¼Œè·¨æœˆå®¡æ ¸ä¹Ÿæ˜¯ä¿®æ”¹

#### timeSequenceå­—æ®µ
- **åœºæ™¯ä¸€**ï¼šåŒä¸€å¤©å†…æŒ‰æ“ä½œé¡ºåºï¼š1â†’2â†’3â†’4
- **åœºæ™¯äºŒ**ï¼šæ¯å¤©é‡æ–°è®¡æ•°ï¼š1â†’1â†’1â†’2
- **åœºæ™¯ä¸‰**ï¼šæ¯å¤©é‡æ–°è®¡æ•°ï¼š1â†’1â†’1

#### connectionsæ•°ç»„
- **forward**ï¼šæ­£å¸¸æµç¨‹æ¨è¿›
- **reject**ï¼šé©³å›æ“ä½œ
- **reprocess**ï¼šé‡æ–°å¤„ç†

#### nodeTypeåˆ†ç±»
- **start**ï¼šæµç¨‹èµ·å§‹èŠ‚ç‚¹
- **normal**ï¼šæ™®é€šå¤„ç†èŠ‚ç‚¹
- **milestone**ï¼šé‡Œç¨‹ç¢‘èŠ‚ç‚¹ï¼ˆå¦‚åˆå®¡é€šè¿‡ï¼‰
- **end**ï¼šæµç¨‹ç»“æŸèŠ‚ç‚¹

### ğŸ¨ è§†è§‰çŠ¶æ€å˜åŒ–è§„å¾‹

#### åŠ¨ç”»èŠ‚ç‚¹äº¤äº’é€»è¾‘
```typescript
// æ‰€æœ‰isModified=trueçš„èŠ‚ç‚¹åœ¨åŠ¨ç”»ç»è¿‡æ—¶ä¼šï¼š
// 1. åŠ¨ç”»èŠ‚ç‚¹æ»‘å…¥ï¼šdefault â†’ overlappingï¼ˆç©ºå¿ƒå˜å®å¿ƒç»¿è‰²ï¼‰
// 2. åŠ¨ç”»èŠ‚ç‚¹ç¦»å¼€ï¼šoverlapping â†’ visitedï¼ˆå®å¿ƒç»¿è‰²å˜æ©™è‰²åŠé€æ˜ï¼‰

// åŠ¨ç”»é‡æ–°å¼€å§‹æ—¶ï¼š
// 1. æ‰€æœ‰èŠ‚ç‚¹ï¼švisited â†’ defaultï¼ˆæ©™è‰²åŠé€æ˜å˜å›ç©ºå¿ƒï¼‰
// 2. hasBeenVisited é‡ç½®ä¸º false
// 3. currentVisualState é‡ç½®ä¸º 'default'
```

### ğŸ”„ è¿æ¥çº¿å¸ƒå±€è§„å¾‹

#### åŒä¸€å¤©å†…è¿æ¥ï¼ˆå‚ç›´çº¿ï¼‰
- **åœºæ™¯ä¸€**ï¼šæ‰€æœ‰è¿æ¥éƒ½æ˜¯å‚ç›´çº¿ï¼Œè¡¨ç¤ºå³æ—¶æ“ä½œ
- é©³å›çº¿ï¼šå‚ç›´å‘ä¸Š
- é‡æ–°å¤„ç†çº¿ï¼šå‚ç›´å‘ä¸‹
- åŒå¤©æäº¤çº¿ï¼šå‚ç›´ä¸‹â†’æ°´å¹³â†’å‚ç›´ä¸Š

#### è·¨æ—¶é—´ç‚¹è¿æ¥ï¼ˆæ°´å¹³çº¿ï¼‰
- **åœºæ™¯äºŒ**ï¼š1æœˆ15æ—¥â†’1æœˆ16æ—¥â†’1æœˆ17æ—¥ï¼Œéƒ½æ˜¯æ°´å¹³ç›´çº¿
- **åœºæ™¯ä¸‰**ï¼š1æœˆ31æ—¥â†’2æœˆ1æ—¥â†’2æœˆ5æ—¥ï¼Œè·¨è¶Šæ—¶é—´é—´éš”çš„æ°´å¹³çº¿

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### åˆå§‹åŒ–å·¥ä½œæµ
```typescript
// é€‰æ‹©åœºæ™¯
const currentScene = 1 // 1=å½“å¤©é©³å›, 2=æ¬¡æ—¥é©³å›, 3=è·¨æœˆå®¡æ ¸

let nodes: WorkflowNode[]
let timePoints: TimePoint[]
let animationPath: string[]

switch(currentScene) {
  case 1:
    nodes = workflowNodes_Scene1
    timePoints = timePoints_Scene1
    animationPath = animationPath_Scene1
    break
  case 2:
    nodes = workflowNodes_Scene2
    timePoints = timePoints_Scene2
    animationPath = animationPath_Scene2
    break
  case 3:
    nodes = workflowNodes_Scene3
    timePoints = timePoints_Scene3
    animationPath = animationPath_Scene3
    break
}

// åˆå§‹åŒ–åŠ¨ç”»æ§åˆ¶å™¨
const animationController = new EnhancedAnimationController(nodes, animationPath)

// å¼€å§‹åŠ¨ç”»æ¼”ç¤º
animationController.play()
```

è¿™äº›æ•°æ®ç»“æ„å®Œå…¨ç¬¦åˆæˆ‘ä»¬ä¹‹å‰è®¾è®¡çš„å·¥ä½œæµæ•°æ®ç»“æ„æ–¹æ¡ˆï¼Œæ¶µç›–äº†ä¸‰ç§å…¸å‹çš„ä¸šåŠ¡åœºæ™¯ï¼Œå¯ä»¥ç›´æ¥ç”¨äºå¼€å‘å’Œæµ‹è¯•ã€‚ 