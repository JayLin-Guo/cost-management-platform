/**
 * 项目相关 API
 */

import {
  mockGetProjectList,
  mockGetProjectDetail,
  type PageResult,
  type ProjectItem,
} from '@/mock/project'

// API 接口类型定义
export interface GetProjectListParams {
  pageNum: number
  pageSize: number
  keyword?: string
}

export interface GetProjectListResult extends PageResult<ProjectItem> {}

/**
 * 获取项目列表（分页）
 */
export function getProjectList(params: GetProjectListParams) {
  // TODO: 后续替换为真实 API 调用
  // return get<GetProjectListResult>('/project/list', params)

  // 目前使用 Mock 数据
  return mockGetProjectList(params)
}

/**
 * 获取项目详情
 */
export function getProjectDetail(id: number) {
  // TODO: 后续替换为真实 API 调用
  // return get<ProjectItem>(`/project/${id}`)

  // 目前使用 Mock 数据
  return mockGetProjectDetail(id)
}

/**
 * 创建项目
 */
export function createProject(_data: Partial<ProjectItem>) {
  // TODO: 实现真实 API 调用
  return new Promise<{ id: number }>((resolve) => {
    setTimeout(() => {
      resolve({ id: Math.floor(Math.random() * 10000) })
    }, 500)
  })
}

/**
 * 更新项目
 */
export function updateProject(_id: number, _data: Partial<ProjectItem>) {
  // TODO: 实现真实 API 调用
  return new Promise<void>((resolve) => {
    setTimeout(() => {
      resolve()
    }, 500)
  })
}

/**
 * 删除项目
 */
export function deleteProject(_id: number) {
  // TODO: 实现真实 API 调用
  return new Promise<void>((resolve) => {
    setTimeout(() => {
      resolve()
    }, 500)
  })
}

// 导出类型
export type { ProjectItem, PageResult }
